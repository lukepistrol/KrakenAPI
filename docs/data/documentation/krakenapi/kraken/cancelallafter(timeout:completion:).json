{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"cancelAllAfter"},{"kind":"text","text":"("},{"kind":"externalParam","text":"timeout"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": "},{"kind":"keyword","text":"@escaping"},{"kind":"text","text":" ("},{"kind":"typeIdentifier","identifier":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/KrakenNetwork","preciseIdentifier":"s:9KrakenAPI0A7NetworkV","text":"KrakenNetwork"},{"kind":"text","text":"."},{"kind":"typeIdentifier","identifier":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/KrakenNetwork\/KrakenResult","preciseIdentifier":"s:9KrakenAPI0A7NetworkV0A6Resulta","text":"KrakenResult"},{"kind":"text","text":") -> ())"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"parameters","parameters":[{"name":"timeout","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Duration (in seconds) to set\/extend the timer by"}]}]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"CancelAllOrdersAfter provides a “Dead Man’s Switch” mechanism to protect the client from network malfunction, extreme latency or unexpected matching engine downtime. The client can send a request with a timeout (in seconds), that will start a countdown timer which will cancel all client orders when the timer expires. The client has to keep sending new requests to push back the trigger time, or deactivate the mechanism by specifying a timeout of 0. If the timer expires, all orders are cancelled and then the timer remains disabled until the client provides a new (non-zero) timeout."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The recommended use is to make a call every 15 to 30 seconds, providing a timeout of 60 seconds. This allows the client to keep the orders in place in case of a brief disconnection or transient delay, while keeping them safe in case of a network breakdown. It is also recommended to disable the timer ahead of regularly scheduled trading engine maintenance (if the timer is enabled, all orders will be cancelled when the trading engine comes back from downtime - planned or otherwise)."}]},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/docs.kraken.com\/rest\/#operation\/cancelAllOrdersAfter"}]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/krakenapi\/kraken\/cancelallafter(timeout:completion:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/Kraken\/cancelAllAfter(timeout:completion:)","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Cancel All Orders After X"}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"cancelAllAfter"},{"kind":"text","text":"("},{"kind":"externalParam","text":"timeout"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"KrakenNetwork","preciseIdentifier":"s:9KrakenAPI0A7NetworkV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"KrakenResult","preciseIdentifier":"s:9KrakenAPI0A7NetworkV0A6Resulta"},{"kind":"text","text":") -> ())"}],"title":"cancelAllAfter(timeout:completion:)","roleHeading":"Instance Method","role":"symbol","symbolKind":"method","externalID":"s:9KrakenAPI0A0V14cancelAllAfter7timeout10completionySi_ys6ResultOySDySSypGAA0A5ErrorOGctF","modules":[{"name":"KrakenAPI"}]},"hierarchy":{"paths":[["doc:\/\/KrakenAPI\/documentation\/KrakenAPI","doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/Kraken"]]},"seeAlsoSections":[{"title":"Cancel All Orders After X","identifiers":["doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/Kraken\/cancelAllAfter(timeout:)"],"generated":true}],"references":{"doc://KrakenAPI/documentation/KrakenAPI/KrakenNetwork":{"role":"symbol","title":"KrakenNetwork","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"KrakenNetwork"}],"abstract":[{"type":"text","text":"Network wrapper to make API calls via "},{"type":"codeVoice","code":"URLSession"}],"identifier":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/KrakenNetwork","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KrakenNetwork"}],"url":"\/documentation\/krakenapi\/krakennetwork"},"https://docs.kraken.com/rest/#operation/cancelAllOrdersAfter":{"title":"See API Reference","titleInlineContent":[{"type":"text","text":"See API Reference"}],"type":"link","identifier":"https:\/\/docs.kraken.com\/rest\/#operation\/cancelAllOrdersAfter","url":"https:\/\/docs.kraken.com\/rest\/#operation\/cancelAllOrdersAfter"},"doc://KrakenAPI/documentation/KrakenAPI/KrakenError":{"role":"symbol","title":"KrakenError","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"KrakenError"}],"abstract":[{"type":"text","text":"Error Type for Kraken REST API call"}],"identifier":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/KrakenError","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KrakenError"}],"url":"\/documentation\/krakenapi\/krakenerror"},"doc://KrakenAPI/documentation/KrakenAPI/Kraken":{"role":"symbol","title":"Kraken","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Kraken"}],"abstract":[{"type":"text","text":"Kraken REST API"}],"identifier":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/Kraken","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Kraken"}],"url":"\/documentation\/krakenapi\/kraken"},"doc://KrakenAPI/documentation/KrakenAPI/Kraken/cancelAllAfter(timeout:completion:)":{"role":"symbol","title":"cancelAllAfter(timeout:completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"cancelAllAfter"},{"kind":"text","text":"("},{"kind":"externalParam","text":"timeout"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"KrakenNetwork","preciseIdentifier":"s:9KrakenAPI0A7NetworkV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"KrakenResult","preciseIdentifier":"s:9KrakenAPI0A7NetworkV0A6Resulta"},{"kind":"text","text":") -> ())"}],"abstract":[{"type":"text","text":"Cancel All Orders After X"}],"identifier":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/Kraken\/cancelAllAfter(timeout:completion:)","kind":"symbol","type":"topic","url":"\/documentation\/krakenapi\/kraken\/cancelallafter(timeout:completion:)"},"doc://KrakenAPI/documentation/KrakenAPI/KrakenNetwork/KrakenResult":{"role":"symbol","title":"KrakenNetwork.KrakenResult","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"KrakenResult"}],"abstract":[{"type":"text","text":"Result Type: Result<[String: Any], "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/KrakenError"},{"type":"text","text":">"}],"identifier":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/KrakenNetwork\/KrakenResult","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KrakenResult"}],"url":"\/documentation\/krakenapi\/krakennetwork\/krakenresult"},"doc://KrakenAPI/documentation/KrakenAPI/Kraken/cancelAllAfter(timeout:)":{"role":"symbol","title":"cancelAllAfter(timeout:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"cancelAllAfter"},{"kind":"text","text":"("},{"kind":"externalParam","text":"timeout"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"KrakenNetwork","preciseIdentifier":"s:9KrakenAPI0A7NetworkV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"KrakenResult","preciseIdentifier":"s:9KrakenAPI0A7NetworkV0A6Resulta"}],"abstract":[{"type":"text","text":"Cancel All Orders After X"}],"identifier":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI\/Kraken\/cancelAllAfter(timeout:)","kind":"symbol","type":"topic","url":"\/documentation\/krakenapi\/kraken\/cancelallafter(timeout:)"},"doc://KrakenAPI/documentation/KrakenAPI":{"role":"collection","title":"KrakenAPI","abstract":[{"type":"text","text":"KrakenAPI is a Swift wrapper for the Kraken Digital Asset Trading Platform REST API."}],"identifier":"doc:\/\/KrakenAPI\/documentation\/KrakenAPI","kind":"symbol","type":"topic","url":"\/documentation\/krakenapi"}}}